# Memories

A dotNet Memory Pool

## Nuget Package
[Latest Version](https://www.nuget.org/packages/Seven.Memories/)

## Benchmark

### Default Memory Pool
### Initialize And Dispose
``` ini

BenchmarkDotNet=v0.12.1, OS=Windows 10.0.18363.1082 (1909/November2018Update/19H2)
Intel Core i5-9400F CPU 2.90GHz (Coffee Lake), 1 CPU, 6 logical and 6 physical cores
.NET Core SDK=3.1.402
  [Host]     : .NET Core 3.1.8 (CoreCLR 4.700.20.41105, CoreFX 4.700.20.41903), X64 RyuJIT
  CoreRt 3.1 : .NET 5.0.29325.02 @BuiltBy: dlab14-DDVSOWINAGE075 @Branch: master @Commit: 64389dad34695712b2520fba2b04713c7c220d89, X64 AOT

Job=CoreRt 3.1  Runtime=CoreRt 3.1  

```
|               Method |  Count |  Size |       Mean |    Error |   StdDev |
|--------------------- |------- |------ |-----------:|---------:|---------:|
| **InitializeAndDispose** |     **10** |  **1024** |   **101.9 ms** |  **1.80 ms** |  **1.68 ms** |
| **InitializeAndDispose** |     **10** |  **2048** |   **101.9 ms** |  **1.80 ms** |  **1.68 ms** |
| **InitializeAndDispose** |     **10** | **10240** |   **102.3 ms** |  **0.12 ms** |  **0.11 ms** |
| **InitializeAndDispose** |     **10** | **20480** |   **102.3 ms** |  **0.11 ms** |  **0.09 ms** |
| **InitializeAndDispose** |    **100** |  **1024** |   **102.3 ms** |  **0.12 ms** |  **0.11 ms** |
| **InitializeAndDispose** |    **100** |  **2048** |   **102.0 ms** |  **1.76 ms** |  **1.65 ms** |
| **InitializeAndDispose** |    **100** | **10240** |   **102.4 ms** |  **0.14 ms** |  **0.13 ms** |
| **InitializeAndDispose** |    **100** | **20480** |   **102.3 ms** |  **0.08 ms** |  **0.08 ms** |
| **InitializeAndDispose** |   **1000** |  **1024** |   **102.4 ms** |  **0.08 ms** |  **0.07 ms** |
| **InitializeAndDispose** |   **1000** |  **2048** |   **102.1 ms** |  **1.81 ms** |  **1.69 ms** |
| **InitializeAndDispose** |   **1000** | **10240** |   **103.4 ms** |  **2.00 ms** |  **2.53 ms** |
| **InitializeAndDispose** |   **1000** | **20480** |   **110.1 ms** |  **0.11 ms** |  **0.10 ms** |
| **InitializeAndDispose** |  **10000** |  **1024** |   **106.9 ms** |  **0.27 ms** |  **0.24 ms** |
| **InitializeAndDispose** |  **10000** |  **2048** |   **115.5 ms** |  **1.74 ms** |  **1.63 ms** |
| **InitializeAndDispose** |  **10000** | **10240** |   **152.7 ms** |  **1.11 ms** |  **1.04 ms** |
| **InitializeAndDispose** |  **10000** | **20480** |   **230.6 ms** |  **4.59 ms** |  **6.59 ms** |
| **InitializeAndDispose** | **100000** |  **1024** |   **224.6 ms** |  **2.42 ms** |  **2.26 ms** |
| **InitializeAndDispose** | **100000** |  **2048** |   **334.9 ms** |  **4.05 ms** |  **3.59 ms** |
| **InitializeAndDispose** | **100000** | **10240** |   **692.8 ms** | **12.79 ms** | **13.69 ms** |
| **InitializeAndDispose** | **100000** | **20480** | **1,221.3 ms** | **21.51 ms** | **20.12 ms** |

### Random Rent And Return 1000
``` ini

BenchmarkDotNet=v0.12.1, OS=Windows 10.0.18363.1082 (1909/November2018Update/19H2)
Intel Core i5-9400F CPU 2.90GHz (Coffee Lake), 1 CPU, 6 logical and 6 physical cores
.NET Core SDK=3.1.402
  [Host]     : .NET Core 3.1.8 (CoreCLR 4.700.20.41105, CoreFX 4.700.20.41903), X64 RyuJIT
  CoreRt 3.1 : .NET 5.0.29325.02 @BuiltBy: dlab14-DDVSOWINAGE075 @Branch: master @Commit: 64389dad34695712b2520fba2b04713c7c220d89, X64 AOT

Job=CoreRt 3.1  Runtime=CoreRt 3.1  

```
|                  Method | Count | MaxCount |  Size | MaxRentSize |      Mean |     Error |    StdDev |
|------------------------ |------ |--------- |------ |------------ |----------:|----------:|----------:|
| **RandomRentAndReturn1000** |    **10** |    **20000** |  **1024** |          **16** |  **3.178 ms** | **0.0462 ms** | **0.0433 ms** |
| **RandomRentAndReturn1000** |    **10** |    **20000** |  **1024** |          **32** |  **3.318 ms** | **0.0255 ms** | **0.0239 ms** |
| **RandomRentAndReturn1000** |    **10** |    **20000** |  **1024** |          **64** |  **3.702 ms** | **0.0132 ms** | **0.0124 ms** |
| **RandomRentAndReturn1000** |    **10** |    **20000** |  **1024** |         **128** |  **4.453 ms** | **0.0190 ms** | **0.0178 ms** |
| **RandomRentAndReturn1000** |    **10** |    **20000** |  **1024** |         **256** |  **5.525 ms** | **0.0135 ms** | **0.0120 ms** |
| **RandomRentAndReturn1000** |    **10** |    **20000** |  **1024** |        **1024** | **11.050 ms** | **0.0634 ms** | **0.0594 ms** |
| **RandomRentAndReturn1000** |    **10** |    **20000** |  **2048** |          **16** |  **3.057 ms** | **0.0090 ms** | **0.0085 ms** |
| **RandomRentAndReturn1000** |    **10** |    **20000** |  **2048** |          **32** |  **3.149 ms** | **0.0165 ms** | **0.0155 ms** |
| **RandomRentAndReturn1000** |    **10** |    **20000** |  **2048** |          **64** |  **3.323 ms** | **0.0076 ms** | **0.0071 ms** |
| **RandomRentAndReturn1000** |    **10** |    **20000** |  **2048** |         **128** |  **3.721 ms** | **0.0213 ms** | **0.0200 ms** |
| **RandomRentAndReturn1000** |    **10** |    **20000** |  **2048** |         **256** |  **4.420 ms** | **0.0201 ms** | **0.0188 ms** |
| **RandomRentAndReturn1000** |    **10** |    **20000** |  **2048** |        **1024** |  **7.856 ms** | **0.0659 ms** | **0.0617 ms** |
| **RandomRentAndReturn1000** |    **10** |    **20000** | **10240** |          **16** |  **2.981 ms** | **0.0161 ms** | **0.0151 ms** |
| **RandomRentAndReturn1000** |    **10** |    **20000** | **10240** |          **32** |  **3.005 ms** | **0.0093 ms** | **0.0078 ms** |
| **RandomRentAndReturn1000** |    **10** |    **20000** | **10240** |          **64** |  **3.054 ms** | **0.0253 ms** | **0.0237 ms** |
| **RandomRentAndReturn1000** |    **10** |    **20000** | **10240** |         **128** |  **3.112 ms** | **0.0119 ms** | **0.0112 ms** |
| **RandomRentAndReturn1000** |    **10** |    **20000** | **10240** |         **256** |  **3.256 ms** | **0.0157 ms** | **0.0147 ms** |
| **RandomRentAndReturn1000** |    **10** |    **20000** | **10240** |        **1024** |  **4.253 ms** | **0.0152 ms** | **0.0119 ms** |
| **RandomRentAndReturn1000** |    **10** |    **20000** | **20480** |          **16** |  **3.017 ms** | **0.0367 ms** | **0.0344 ms** |
| **RandomRentAndReturn1000** |    **10** |    **20000** | **20480** |          **32** |  **2.962 ms** | **0.0125 ms** | **0.0104 ms** |
| **RandomRentAndReturn1000** |    **10** |    **20000** | **20480** |          **64** |  **2.997 ms** | **0.0169 ms** | **0.0158 ms** |
| **RandomRentAndReturn1000** |    **10** |    **20000** | **20480** |         **128** |  **3.021 ms** | **0.0125 ms** | **0.0117 ms** |
| **RandomRentAndReturn1000** |    **10** |    **20000** | **20480** |         **256** |  **3.111 ms** | **0.0180 ms** | **0.0168 ms** |
| **RandomRentAndReturn1000** |    **10** |    **20000** | **20480** |        **1024** |  **3.536 ms** | **0.0066 ms** | **0.0062 ms** |
| **RandomRentAndReturn1000** |   **100** |    **20000** |  **1024** |          **16** |  **3.146 ms** | **0.0141 ms** | **0.0132 ms** |
| **RandomRentAndReturn1000** |   **100** |    **20000** |  **1024** |          **32** |  **3.301 ms** | **0.0102 ms** | **0.0091 ms** |
| **RandomRentAndReturn1000** |   **100** |    **20000** |  **1024** |          **64** |  **3.694 ms** | **0.0211 ms** | **0.0198 ms** |
| **RandomRentAndReturn1000** |   **100** |    **20000** |  **1024** |         **128** |  **4.364 ms** | **0.0193 ms** | **0.0181 ms** |
| **RandomRentAndReturn1000** |   **100** |    **20000** |  **1024** |         **256** |  **5.472 ms** | **0.0318 ms** | **0.0298 ms** |
| **RandomRentAndReturn1000** |   **100** |    **20000** |  **1024** |        **1024** | **11.140 ms** | **0.0631 ms** | **0.0591 ms** |
| **RandomRentAndReturn1000** |   **100** |    **20000** |  **2048** |          **16** |  **3.050 ms** | **0.0226 ms** | **0.0200 ms** |
| **RandomRentAndReturn1000** |   **100** |    **20000** |  **2048** |          **32** |  **3.129 ms** | **0.0064 ms** | **0.0057 ms** |
| **RandomRentAndReturn1000** |   **100** |    **20000** |  **2048** |          **64** |  **3.301 ms** | **0.0104 ms** | **0.0097 ms** |
| **RandomRentAndReturn1000** |   **100** |    **20000** |  **2048** |         **128** |  **3.692 ms** | **0.0136 ms** | **0.0127 ms** |
| **RandomRentAndReturn1000** |   **100** |    **20000** |  **2048** |         **256** |  **4.444 ms** | **0.0179 ms** | **0.0167 ms** |
| **RandomRentAndReturn1000** |   **100** |    **20000** |  **2048** |        **1024** |  **7.826 ms** | **0.0215 ms** | **0.0201 ms** |
| **RandomRentAndReturn1000** |   **100** |    **20000** | **10240** |          **16** |  **2.952 ms** | **0.0091 ms** | **0.0085 ms** |
| **RandomRentAndReturn1000** |   **100** |    **20000** | **10240** |          **32** |  **2.973 ms** | **0.0090 ms** | **0.0084 ms** |
| **RandomRentAndReturn1000** |   **100** |    **20000** | **10240** |          **64** |  **3.020 ms** | **0.0091 ms** | **0.0081 ms** |
| **RandomRentAndReturn1000** |   **100** |    **20000** | **10240** |         **128** |  **3.082 ms** | **0.0090 ms** | **0.0084 ms** |
| **RandomRentAndReturn1000** |   **100** |    **20000** | **10240** |         **256** |  **3.250 ms** | **0.0185 ms** | **0.0173 ms** |
| **RandomRentAndReturn1000** |   **100** |    **20000** | **10240** |        **1024** |  **4.181 ms** | **0.0179 ms** | **0.0149 ms** |
| **RandomRentAndReturn1000** |   **100** |    **20000** | **20480** |          **16** |  **2.953 ms** | **0.0097 ms** | **0.0091 ms** |
| **RandomRentAndReturn1000** |   **100** |    **20000** | **20480** |          **32** |  **2.963 ms** | **0.0082 ms** | **0.0076 ms** |
| **RandomRentAndReturn1000** |   **100** |    **20000** | **20480** |          **64** |  **2.983 ms** | **0.0105 ms** | **0.0098 ms** |
| **RandomRentAndReturn1000** |   **100** |    **20000** | **20480** |         **128** |  **3.022 ms** | **0.0102 ms** | **0.0096 ms** |
| **RandomRentAndReturn1000** |   **100** |    **20000** | **20480** |         **256** |  **3.114 ms** | **0.0173 ms** | **0.0162 ms** |
| **RandomRentAndReturn1000** |   **100** |    **20000** | **20480** |        **1024** |  **3.559 ms** | **0.0095 ms** | **0.0079 ms** |
| **RandomRentAndReturn1000** |  **1000** |    **20000** |  **1024** |          **16** |  **3.131 ms** | **0.0109 ms** | **0.0102 ms** |
| **RandomRentAndReturn1000** |  **1000** |    **20000** |  **1024** |          **32** |  **3.302 ms** | **0.0141 ms** | **0.0132 ms** |
| **RandomRentAndReturn1000** |  **1000** |    **20000** |  **1024** |          **64** |  **3.680 ms** | **0.0078 ms** | **0.0069 ms** |
| **RandomRentAndReturn1000** |  **1000** |    **20000** |  **1024** |         **128** |  **4.381 ms** | **0.0143 ms** | **0.0134 ms** |
| **RandomRentAndReturn1000** |  **1000** |    **20000** |  **1024** |         **256** |  **5.435 ms** | **0.0182 ms** | **0.0161 ms** |
| **RandomRentAndReturn1000** |  **1000** |    **20000** |  **1024** |        **1024** | **11.257 ms** | **0.1546 ms** | **0.1446 ms** |
| **RandomRentAndReturn1000** |  **1000** |    **20000** |  **2048** |          **16** |  **3.083 ms** | **0.0025 ms** | **0.0021 ms** |
| **RandomRentAndReturn1000** |  **1000** |    **20000** |  **2048** |          **32** |  **3.172 ms** | **0.0032 ms** | **0.0025 ms** |
| **RandomRentAndReturn1000** |  **1000** |    **20000** |  **2048** |          **64** |  **3.348 ms** | **0.0033 ms** | **0.0029 ms** |
| **RandomRentAndReturn1000** |  **1000** |    **20000** |  **2048** |         **128** |  **3.750 ms** | **0.0043 ms** | **0.0041 ms** |
| **RandomRentAndReturn1000** |  **1000** |    **20000** |  **2048** |         **256** |  **4.495 ms** | **0.0045 ms** | **0.0040 ms** |
| **RandomRentAndReturn1000** |  **1000** |    **20000** |  **2048** |        **1024** |  **7.780 ms** | **0.0156 ms** | **0.0139 ms** |
| **RandomRentAndReturn1000** |  **1000** |    **20000** | **10240** |          **16** |  **3.003 ms** | **0.0021 ms** | **0.0019 ms** |
| **RandomRentAndReturn1000** |  **1000** |    **20000** | **10240** |          **32** |  **3.029 ms** | **0.0033 ms** | **0.0028 ms** |
| **RandomRentAndReturn1000** |  **1000** |    **20000** | **10240** |          **64** |  **3.075 ms** | **0.0028 ms** | **0.0024 ms** |
| **RandomRentAndReturn1000** |  **1000** |    **20000** | **10240** |         **128** |  **3.135 ms** | **0.0036 ms** | **0.0033 ms** |
| **RandomRentAndReturn1000** |  **1000** |    **20000** | **10240** |         **256** |  **3.298 ms** | **0.0086 ms** | **0.0077 ms** |
| **RandomRentAndReturn1000** |  **1000** |    **20000** | **10240** |        **1024** |  **4.263 ms** | **0.0074 ms** | **0.0069 ms** |
| **RandomRentAndReturn1000** |  **1000** |    **20000** | **20480** |          **16** |  **3.008 ms** | **0.0115 ms** | **0.0108 ms** |
| **RandomRentAndReturn1000** |  **1000** |    **20000** | **20480** |          **32** |  **3.003 ms** | **0.0023 ms** | **0.0018 ms** |
| **RandomRentAndReturn1000** |  **1000** |    **20000** | **20480** |          **64** |  **3.027 ms** | **0.0012 ms** | **0.0010 ms** |
| **RandomRentAndReturn1000** |  **1000** |    **20000** | **20480** |         **128** |  **3.070 ms** | **0.0017 ms** | **0.0016 ms** |
| **RandomRentAndReturn1000** |  **1000** |    **20000** | **20480** |         **256** |  **3.147 ms** | **0.0010 ms** | **0.0008 ms** |
| **RandomRentAndReturn1000** |  **1000** |    **20000** | **20480** |        **1024** |  **3.641 ms** | **0.0093 ms** | **0.0087 ms** |
| **RandomRentAndReturn1000** | **10000** |    **20000** |  **1024** |          **16** |  **3.180 ms** | **0.0029 ms** | **0.0023 ms** |
| **RandomRentAndReturn1000** | **10000** |    **20000** |  **1024** |          **32** |  **3.348 ms** | **0.0045 ms** | **0.0037 ms** |
| **RandomRentAndReturn1000** | **10000** |    **20000** |  **1024** |          **64** |  **3.737 ms** | **0.0122 ms** | **0.0108 ms** |
| **RandomRentAndReturn1000** | **10000** |    **20000** |  **1024** |         **128** |  **4.431 ms** | **0.0037 ms** | **0.0033 ms** |
| **RandomRentAndReturn1000** | **10000** |    **20000** |  **1024** |         **256** |  **5.520 ms** | **0.0179 ms** | **0.0168 ms** |
| **RandomRentAndReturn1000** | **10000** |    **20000** |  **1024** |        **1024** | **11.017 ms** | **0.0313 ms** | **0.0261 ms** |
| **RandomRentAndReturn1000** | **10000** |    **20000** |  **2048** |          **16** |  **3.088 ms** | **0.0005 ms** | **0.0004 ms** |
| **RandomRentAndReturn1000** | **10000** |    **20000** |  **2048** |          **32** |  **3.192 ms** | **0.0017 ms** | **0.0016 ms** |
| **RandomRentAndReturn1000** | **10000** |    **20000** |  **2048** |          **64** |  **3.376 ms** | **0.0016 ms** | **0.0014 ms** |
| **RandomRentAndReturn1000** | **10000** |    **20000** |  **2048** |         **128** |  **3.805 ms** | **0.0055 ms** | **0.0049 ms** |
| **RandomRentAndReturn1000** | **10000** |    **20000** |  **2048** |         **256** |  **4.579 ms** | **0.0043 ms** | **0.0038 ms** |
| **RandomRentAndReturn1000** | **10000** |    **20000** |  **2048** |        **1024** |  **8.099 ms** | **0.0234 ms** | **0.0219 ms** |
| **RandomRentAndReturn1000** | **10000** |    **20000** | **10240** |          **16** |  **2.995 ms** | **0.0015 ms** | **0.0014 ms** |
| **RandomRentAndReturn1000** | **10000** |    **20000** | **10240** |          **32** |  **3.031 ms** | **0.0018 ms** | **0.0017 ms** |
| **RandomRentAndReturn1000** | **10000** |    **20000** | **10240** |          **64** |  **3.077 ms** | **0.0064 ms** | **0.0060 ms** |
| **RandomRentAndReturn1000** | **10000** |    **20000** | **10240** |         **128** |  **3.148 ms** | **0.0016 ms** | **0.0015 ms** |
| **RandomRentAndReturn1000** | **10000** |    **20000** | **10240** |         **256** |  **3.301 ms** | **0.0023 ms** | **0.0021 ms** |
| **RandomRentAndReturn1000** | **10000** |    **20000** | **10240** |        **1024** |  **4.315 ms** | **0.0054 ms** | **0.0050 ms** |
| **RandomRentAndReturn1000** | **10000** |    **20000** | **20480** |          **16** |  **3.001 ms** | **0.0013 ms** | **0.0011 ms** |
| **RandomRentAndReturn1000** | **10000** |    **20000** | **20480** |          **32** |  **3.060 ms** | **0.0027 ms** | **0.0025 ms** |
| **RandomRentAndReturn1000** | **10000** |    **20000** | **20480** |          **64** |  **3.026 ms** | **0.0020 ms** | **0.0018 ms** |
| **RandomRentAndReturn1000** | **10000** |    **20000** | **20480** |         **128** |  **3.067 ms** | **0.0011 ms** | **0.0010 ms** |
| **RandomRentAndReturn1000** | **10000** |    **20000** | **20480** |         **256** |  **3.143 ms** | **0.0015 ms** | **0.0014 ms** |
| **RandomRentAndReturn1000** | **10000** |    **20000** | **20480** |        **1024** |  **3.659 ms** | **0.0373 ms** | **0.0291 ms** |
